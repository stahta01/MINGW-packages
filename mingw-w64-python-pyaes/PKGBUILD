# Maintainer: 
# Contributor: 

_realname=python-pyaes
pkgbase=mingw-w64-${_realname}
pkgname=("${MINGW_PACKAGE_PREFIX}-${_realname}")
_pipname=pyaes
pkgver=1.6.1
pkgrel=1
pkgdesc="Pure-Python Implementation of the AES block-cipher and common modes of operation (mingw-w64)"
arch=('any')
mingw_arch=('mingw32' 'mingw64' 'ucrt64' 'clang64' 'clangarm64')
depends=("${MINGW_PACKAGE_PREFIX}-python")
makedepends=("${MINGW_PACKAGE_PREFIX}-python-setuptools")
url="https://github.com/ricmoo/pyaes"
license=('MIT')
source=(https://pypi.org/packages/source/${_pipname:0:1}/$_pipname/$_pipname-$pkgver.tar.gz)
sha256sums=('02c1b1405c38d3c370b085fb952dd8bea3fadcee6411ad99f312cc129c536d8f')

build() {
  cd "$_pipname-$pkgver"
  ${MINGW_PREFIX}/bin/python setup.py build
}

package_python-pyaes() {
  cd $_pipname-$pkgver

  MSYS2_ARG_CONV_EXCL="--prefix=;--install-scripts=;--install-platlib=" \
  ${MINGW_PREFIX}/bin/python setup.py install --root="$pkgdir/" --optimize=1

  install -D -m644 LICENSE.txt "${pkgdir}"/usr/share/licenses/${pkgname}/LICENSE.txt
}
